@page "/text-analysis"

@using IntelligentApp.Models
@using System.Text.Json

<h3>Analiza Tekstu (Sentiment, Key Phrases)</h3>

<p>Wprowadź tekst, a my przeanalizujemy jego sentyment i wyodrębnimy kluczowe frazy za pomocą Azure AI Services.</p>

<div class="mb-3">
    <label for="textInput" class="form-label">Tekst do analizy:</label>
    <textarea id="textInput" class="form-control" rows="3" @bind="_userText"></textarea>
</div>

<button class="btn btn-primary" @onclick="AnalyzeTextAsync">Analizuj</button>

@if (_isLoading)
{
    <p class="mt-3">Analizowanie tekstu, proszę czekać...</p>
}
else if (_showResult)
{
    <div class="mt-3">
        <h4>Wynik analizy:</h4>
        <p><strong>Sentyment:</strong> @_sentimentResult</p>
        <p><strong>Kluczowe Frazy:</strong></p>
        <ul>
            @foreach (var item in _keyPhrases)
            {
                <li>@item</li>
            }
        </ul>
    </div>
}